<!doctype html>
<html lang="id">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PuzzleStudy's</title>
  <script src="/_sdk/data_sdk.js"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <style>
    body {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: 'Arial', sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100%;
      overflow-x: hidden;
    }

    * {
      box-sizing: border-box;
    }

    .container {
      width: 100%;
      min-height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }

    /* Welcome Screen */
    .welcome-screen {
      text-align: center;
      position: relative;
      min-height: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

    .emoji-float {
      position: fixed;
      font-size: 48px;
      opacity: 0;
      animation: floatIn 1s ease-out 4s forwards, sway 3s ease-in-out 5s infinite;
      z-index: 10;
    }

    .emoji-1 { top: 10%; left: 5%; animation-delay: 4s, 5s; }
    .emoji-2 { top: 20%; left: 10%; animation-delay: 4.2s, 5.2s; }
    .emoji-3 { top: 80%; left: 5%; animation-delay: 4.4s, 5.4s; }
    .emoji-4 { top: 90%; left: 15%; animation-delay: 4.6s, 5.6s; }
    .emoji-5 { top: 10%; right: 5%; animation-delay: 4.8s, 5.8s; }
    .emoji-6 { top: 20%; right: 10%; animation-delay: 5s, 6s; }
    .emoji-7 { top: 80%; right: 5%; animation-delay: 5.2s, 6.2s; }
    .emoji-8 { top: 90%; right: 15%; animation-delay: 5.4s, 6.4s; }

    @keyframes floatIn {
      0% {
        opacity: 0;
        transform: scale(0) rotate(-180deg);
      }
      50% {
        transform: scale(1.3) rotate(10deg);
      }
      100% {
        opacity: 1;
        transform: scale(1) rotate(0deg);
      }
    }

    @keyframes sway {
      0%, 100% {
        transform: translateY(0) rotate(0deg) scale(1);
      }
      25% {
        transform: translateY(-20px) rotate(15deg) scale(1.1);
      }
      50% {
        transform: translateY(0) rotate(0deg) scale(1);
      }
      75% {
        transform: translateY(-20px) rotate(-15deg) scale(1.1);
      }
    }

    .logo-animation {
      width: 180px;
      height: 180px;
      margin: 0 auto 40px;
      position: relative;
    }

    .puzzle-piece-anim {
      width: 100%;
      height: 100%;
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 8px;
    }

    /* Animasi kotak dari 1 menjadi 4 */
    .piece {
      border-radius: 15px;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
      position: relative;
      animation: boxSplit 2s ease-out forwards;
      transform-origin: center;
    }

    .piece:nth-child(1) { 
      background: linear-gradient(135deg, #FF6B9D 0%, #FF1744 100%);
      animation: boxSplit1 2s ease-out forwards;
    }
    .piece:nth-child(2) { 
      background: linear-gradient(135deg, #FFA726 0%, #FF6F00 100%);
      animation: boxSplit2 2s ease-out forwards;
    }
    .piece:nth-child(3) { 
      background: linear-gradient(135deg, #66BB6A 0%, #2E7D32 100%);
      animation: boxSplit3 2s ease-out forwards;
    }
    .piece:nth-child(4) { 
      background: linear-gradient(135deg, #42A5F5 0%, #1565C0 100%);
      animation: boxSplit4 2s ease-out forwards;
    }

    @keyframes boxSplit1 {
      0% {
        transform: translate(50px, 50px) scale(2) rotate(0deg);
        opacity: 0;
      }
      50% {
        transform: translate(25px, 25px) scale(1.5) rotate(180deg);
        opacity: 1;
      }
      100% {
        transform: translate(0, 0) scale(1) rotate(360deg);
        opacity: 1;
      }
    }

    @keyframes boxSplit2 {
      0% {
        transform: translate(-50px, 50px) scale(2) rotate(0deg);
        opacity: 0;
      }
      50% {
        transform: translate(-25px, 25px) scale(1.5) rotate(180deg);
        opacity: 1;
      }
      100% {
        transform: translate(0, 0) scale(1) rotate(360deg);
        opacity: 1;
      }
    }

    @keyframes boxSplit3 {
      0% {
        transform: translate(50px, -50px) scale(2) rotate(0deg);
        opacity: 0;
      }
      50% {
        transform: translate(25px, -25px) scale(1.5) rotate(180deg);
        opacity: 1;
      }
      100% {
        transform: translate(0, 0) scale(1) rotate(360deg);
        opacity: 1;
      }
    }

    @keyframes boxSplit4 {
      0% {
        transform: translate(-50px, -50px) scale(2) rotate(0deg);
        opacity: 0;
      }
      50% {
        transform: translate(-25px, -25px) scale(1.5) rotate(180deg);
        opacity: 1;
      }
      100% {
        transform: translate(0, 0) scale(1) rotate(360deg);
        opacity: 1;
      }
    }

    .welcome-text {
      font-size: 72px;
      font-weight: bold;
      color: #333;
      margin-bottom: 40px;
      position: relative;
      animation: textAppear 1s ease-out 2s forwards;
      opacity: 0;
      transform: scale(0);
    }

    @keyframes textAppear {
      0% {
        opacity: 0;
        transform: scale(0) rotateY(0deg);
      }
      50% {
        opacity: 1;
        transform: scale(1.2) rotateY(180deg);
      }
      100% {
        opacity: 1;
        transform: scale(1) rotateY(360deg);
      }
    }

    .particles {
      display: none;
    }

    /* Animasi naik keatas untuk logo dan teks */
    .welcome-screen.move-up .logo-animation {
      animation: moveUp 1s ease-out 3.5s forwards;
    }

    .welcome-screen.move-up .welcome-text {
      animation: textAppear 1s ease-out 2s forwards, moveUpText 1s ease-out 3.5s forwards;
    }

    @keyframes moveUp {
      0% {
        transform: translateY(0);
      }
      100% {
        transform: translateY(-100px);
      }
    }

    @keyframes moveUpText {
      0% {
        transform: scale(1) rotateY(360deg) translateY(0);
      }
      100% {
        transform: scale(1) rotateY(360deg) translateY(-100px);
      }
    }

    .play-button {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      font-size: 36px;
      font-weight: bold;
      padding: 22px 70px;
      border: none;
      border-radius: 50px;
      cursor: pointer;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
      transition: transform 0.2s;
      position: relative;
      overflow: hidden;
      opacity: 0;
      transform: translateY(50px) scale(0.5);
      animation: buttonAppear 1s ease-out 4.5s forwards;
    }

    @keyframes buttonAppear {
      0% {
        opacity: 0;
        transform: translateY(50px) scale(0.5);
      }
      50% {
        opacity: 1;
        transform: translateY(-10px) scale(1.1);
      }
      100% {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }

    .play-button:hover {
      transform: scale(1.05);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
    }

    /* Main Menu */
    .main-menu {
      width: 100%;
      max-width: 800px;
      background: rgba(255, 255, 255, 0.95);
      border-radius: 20px;
      padding: 40px;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
    }

    .menu-header {
      text-align: center;
      margin-bottom: 30px;
    }

    .menu-title {
      font-size: 36px;
      font-weight: bold;
      color: #667eea;
      margin-bottom: 20px;
      animation: titleBounce 1s ease-out;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
    }

    @keyframes titleBounce {
      0% {
        transform: translateY(-100px) scale(0);
        opacity: 0;
      }
      50% {
        transform: translateY(10px) scale(1.1);
      }
      70% {
        transform: translateY(-5px) scale(0.95);
      }
      85% {
        transform: translateY(2px) scale(1.02);
      }
      100% {
        transform: translateY(0) scale(1);
        opacity: 1;
      }
    }

    .stats-bar {
      display: flex;
      justify-content: space-around;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-radius: 15px;
      padding: 15px;
      margin-bottom: 30px;
      animation: statsSlideDown 0.8s ease-out;
      position: relative;
      overflow: hidden;
    }

    .stats-bar::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
      animation: statsShine 3s infinite;
    }

    @keyframes statsShine {
      0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
      100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
    }

    @keyframes statsSlideDown {
      from {
        transform: translateY(-30px);
        opacity: 0;
      }
      to {
        transform: translateY(0);
        opacity: 1;
      }
    }

    .stat-item {
      text-align: center;
      color: white;
      animation: statPop 0.5s ease-out backwards;
    }

    .stat-item:nth-child(1) { animation-delay: 0.3s; }
    .stat-item:nth-child(2) { animation-delay: 0.5s; }
    .stat-item:nth-child(3) { animation-delay: 0.7s; }

    @keyframes statPop {
      from {
        transform: scale(0);
        opacity: 0;
      }
      to {
        transform: scale(1);
        opacity: 1;
      }
    }

    .stat-label {
      font-size: 14px;
      opacity: 0.9;
    }

    .stat-value {
      font-size: 24px;
      font-weight: bold;
      margin-top: 5px;
      animation: numberPulse 2s ease-in-out infinite;
    }

    @keyframes numberPulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.1); }
    }

    .game-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin-bottom: 20px;
    }

    .game-card {
      background: white;
      border-radius: 15px;
      padding: 30px 20px;
      text-align: center;
      cursor: pointer;
      transition: transform 0.3s, box-shadow 0.3s;
      border: 3px solid transparent;
      animation: cardSlideIn 0.6s ease-out backwards;
    }

    .game-card:nth-child(1) { animation-delay: 0.2s; }
    .game-card:nth-child(2) { animation-delay: 0.4s; }
    .game-card:nth-child(3) { animation-delay: 0.6s; }

    @keyframes cardSlideIn {
      from {
        transform: translateY(50px);
        opacity: 0;
      }
      to {
        transform: translateY(0);
        opacity: 1;
      }
    }

    .game-card:hover {
      transform: translateY(-5px) rotate(2deg);
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      border-color: #667eea;
      animation: cardShake 0.5s ease-in-out;
    }

    @keyframes cardShake {
      0%, 100% { transform: translateY(-5px) rotate(0deg); }
      25% { transform: translateY(-5px) rotate(2deg); }
      75% { transform: translateY(-5px) rotate(-2deg); }
    }

    .game-icon {
      font-size: 48px;
      margin-bottom: 15px;
      animation: iconBounce 2s ease-in-out infinite;
    }

    @keyframes iconBounce {
      0%, 100% { transform: translateY(0) scale(1); }
      50% { transform: translateY(-10px) scale(1.1); }
    }

    .game-card:nth-child(1) .game-icon { animation-delay: 0s; }
    .game-card:nth-child(2) .game-icon { animation-delay: 0.3s; }
    .game-card:nth-child(3) .game-icon { animation-delay: 0.6s; }

    .game-title {
      font-size: 20px;
      font-weight: bold;
      color: #333;
      margin-bottom: 10px;
    }

    .game-level {
      font-size: 14px;
      color: #666;
    }

    /* Game Screens */
    .game-screen {
      width: 100%;
      max-width: 900px;
      background: rgba(255, 255, 255, 0.95);
      border-radius: 20px;
      padding: 30px;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
    }

    .game-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      padding-bottom: 15px;
      border-bottom: 2px solid #667eea;
    }

    .back-button {
      background: #ff6b6b;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 10px;
      cursor: pointer;
      font-size: 16px;
      transition: all 0.3s;
      animation: backButtonAppear 0.5s ease-out;
    }

    @keyframes backButtonAppear {
      from {
        transform: translateX(-50px);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }

    .back-button:hover {
      background: #ee5555;
      transform: translateX(-5px);
      box-shadow: 0 5px 15px rgba(255, 107, 107, 0.4);
    }

    .game-info {
      display: flex;
      gap: 20px;
      align-items: center;
    }

    .level-display {
      font-size: 20px;
      font-weight: bold;
      color: #667eea;
    }

    .points-display {
      background: #ffd93d;
      padding: 8px 15px;
      border-radius: 20px;
      font-weight: bold;
      color: #333;
    }

    /* Drag and Drop Puzzle */
    .puzzle-container {
      display: grid;
      gap: 10px;
      margin: 20px auto;
      max-width: 600px;
      background: #f0f0f0;
      padding: 20px;
      border-radius: 15px;
    }

    .puzzle-piece {
      background: white;
      border: 2px solid #ddd;
      border-radius: 8px;
      cursor: move;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      font-weight: bold;
      color: #667eea;
      transition: transform 0.2s, box-shadow 0.2s;
      user-select: none;
      min-height: 80px;
      animation: puzzlePieceAppear 0.4s ease-out backwards;
    }

    @keyframes puzzlePieceAppear {
      from {
        transform: scale(0) rotate(180deg);
        opacity: 0;
      }
      to {
        transform: scale(1) rotate(0deg);
        opacity: 1;
      }
    }

    .puzzle-piece:hover {
      transform: scale(1.05) rotate(5deg);
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
      animation: pieceWiggle 0.3s ease-in-out;
    }

    @keyframes pieceWiggle {
      0%, 100% { transform: scale(1.05) rotate(0deg); }
      25% { transform: scale(1.05) rotate(5deg); }
      75% { transform: scale(1.05) rotate(-5deg); }
    }

    .puzzle-piece.dragging {
      opacity: 0.5;
      animation: draggingPulse 0.5s ease-in-out infinite;
    }

    @keyframes draggingPulse {
      0%, 100% { transform: scale(0.95); }
      50% { transform: scale(1.05); }
    }

    .puzzle-piece.correct {
      background: #51cf66;
      color: white;
      border-color: #51cf66;
      animation: correctCelebration 0.6s ease-out;
    }

    @keyframes correctCelebration {
      0% { transform: scale(1); }
      25% { transform: scale(1.2) rotate(10deg); }
      50% { transform: scale(0.9) rotate(-10deg); }
      75% { transform: scale(1.1) rotate(5deg); }
      100% { transform: scale(1) rotate(0deg); }
    }

    /* Scramble Puzzle */
    .scramble-content {
      text-align: center;
    }

    .subject-badge {
      display: inline-block;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 10px 20px;
      border-radius: 20px;
      font-weight: bold;
      margin-bottom: 20px;
      animation: badgeFlip 0.8s ease-out;
      box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
    }

    @keyframes badgeFlip {
      0% {
        transform: rotateY(90deg) scale(0.5);
        opacity: 0;
      }
      50% {
        transform: rotateY(-10deg) scale(1.1);
      }
      100% {
        transform: rotateY(0deg) scale(1);
        opacity: 1;
      }
    }

    .question-box {
      background: #f8f9fa;
      padding: 30px;
      border-radius: 15px;
      margin-bottom: 20px;
      font-size: 20px;
      color: #333;
      min-height: 100px;
      display: flex;
      align-items: center;
      justify-content: center;
      animation: questionSlide 0.6s ease-out;
      position: relative;
      overflow: hidden;
    }

    .question-box::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(102, 126, 234, 0.1), transparent);
      animation: questionShine 2s infinite;
    }

    @keyframes questionShine {
      0% { left: -100%; }
      100% { left: 100%; }
    }

    @keyframes questionSlide {
      from {
        transform: translateX(-50px);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }

    .answer-input {
      width: 100%;
      padding: 15px;
      font-size: 18px;
      border: 2px solid #ddd;
      border-radius: 10px;
      margin-bottom: 15px;
      transition: all 0.3s;
      animation: inputSlideUp 0.6s ease-out;
    }

    @keyframes inputSlideUp {
      from {
        transform: translateY(30px);
        opacity: 0;
      }
      to {
        transform: translateY(0);
        opacity: 1;
      }
    }

    .answer-input:focus {
      outline: none;
      border-color: #667eea;
      box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
      transform: scale(1.02);
    }

    .submit-button {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      padding: 15px 40px;
      border-radius: 10px;
      font-size: 18px;
      font-weight: bold;
      cursor: pointer;
      transition: transform 0.2s;
      width: 100%;
      position: relative;
      overflow: hidden;
    }

    .submit-button::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.3);
      transform: translate(-50%, -50%);
      transition: width 0.6s, height 0.6s;
    }

    .submit-button:hover::before {
      width: 300px;
      height: 300px;
    }

    .submit-button:hover {
      transform: translateY(-2px);
      animation: buttonPulse 1s ease-in-out infinite;
    }

    @keyframes buttonPulse {
      0%, 100% { box-shadow: 0 0 0 0 rgba(102, 126, 234, 0.7); }
      50% { box-shadow: 0 0 0 10px rgba(102, 126, 234, 0); }
    }

    .submit-button:active {
      transform: translateY(0) scale(0.95);
    }

    .submit-button:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    /* Word of Wonders */
    .word-grid {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 10px;
      margin: 20px auto;
      max-width: 400px;
    }

    .letter-cell {
      background: white;
      border: 2px solid #667eea;
      border-radius: 10px;
      aspect-ratio: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      font-weight: bold;
      color: #667eea;
      cursor: pointer;
      transition: all 0.2s;
      user-select: none;
      animation: letterPop 0.4s ease-out backwards;
    }

    @keyframes letterPop {
      from {
        transform: scale(0) rotateY(180deg);
        opacity: 0;
      }
      to {
        transform: scale(1) rotateY(0deg);
        opacity: 1;
      }
    }

    .letter-cell:hover {
      background: #667eea;
      color: white;
      transform: scale(1.2) rotate(360deg);
      box-shadow: 0 5px 20px rgba(102, 126, 234, 0.5);
    }

    .letter-cell.selected {
      background: #667eea;
      color: white;
      animation: letterSelected 0.5s ease-out;
    }

    @keyframes letterSelected {
      0% { transform: scale(1); }
      50% { transform: scale(1.3) rotate(20deg); }
      100% { transform: scale(1) rotate(0deg); }
    }

    .word-display {
      text-align: center;
      margin: 20px 0;
      padding: 20px;
      background: #f8f9fa;
      border-radius: 10px;
      min-height: 60px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .current-word {
      font-size: 28px;
      font-weight: bold;
      color: #667eea;
      letter-spacing: 5px;
      animation: wordPulse 0.3s ease-in-out;
    }

    @keyframes wordPulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.1); }
      100% { transform: scale(1); }
    }

    .found-words {
      margin-top: 20px;
      padding: 15px;
      background: #e7f5ff;
      border-radius: 10px;
    }

    .found-words-title {
      font-size: 16px;
      font-weight: bold;
      color: #667eea;
      margin-bottom: 10px;
    }

    .found-word-list {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    .found-word {
      background: white;
      padding: 8px 15px;
      border-radius: 20px;
      border: 2px solid #51cf66;
      color: #51cf66;
      font-weight: bold;
      animation: wordFound 0.6s ease-out;
    }

    @keyframes wordFound {
      0% {
        transform: scale(0) rotate(-180deg);
        opacity: 0;
      }
      50% {
        transform: scale(1.2) rotate(10deg);
      }
      100% {
        transform: scale(1) rotate(0deg);
        opacity: 1;
      }
    }

    .hint-section {
      text-align: center;
      margin: 20px 0;
    }

    .hint-button {
      background: #ffd93d;
      color: #333;
      border: none;
      padding: 10px 20px;
      border-radius: 10px;
      cursor: pointer;
      font-weight: bold;
      transition: transform 0.2s;
      animation: hintGlow 2s ease-in-out infinite;
      position: relative;
    }

    @keyframes hintGlow {
      0%, 100% {
        box-shadow: 0 0 5px rgba(255, 217, 61, 0.5);
      }
      50% {
        box-shadow: 0 0 20px rgba(255, 217, 61, 0.8), 0 0 30px rgba(255, 217, 61, 0.6);
      }
    }

    .hint-button:hover {
      transform: scale(1.1) rotate(5deg);
      animation: hintShake 0.5s ease-in-out infinite;
    }

    @keyframes hintShake {
      0%, 100% { transform: scale(1.1) rotate(0deg); }
      25% { transform: scale(1.1) rotate(5deg); }
      75% { transform: scale(1.1) rotate(-5deg); }
    }

    .hint-text {
      margin-top: 10px;
      color: #666;
      font-style: italic;
    }

    .action-buttons {
      display: flex;
      gap: 10px;
      margin-top: 20px;
    }

    .skip-button {
      flex: 1;
      background: #ff922b;
      color: white;
      border: none;
      padding: 15px;
      border-radius: 10px;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.3s;
      position: relative;
      overflow: hidden;
    }

    .skip-button::after {
      content: '‚è≠Ô∏è';
      position: absolute;
      top: 50%;
      left: -30px;
      transform: translateY(-50%);
      font-size: 20px;
      opacity: 0;
      transition: all 0.3s;
    }

    .skip-button:hover {
      background: #fd7e14;
      padding-left: 40px;
      animation: skipShake 0.5s ease-in-out;
    }

    .skip-button:hover::after {
      left: 15px;
      opacity: 1;
    }

    @keyframes skipShake {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-5px); }
      75% { transform: translateX(5px); }
    }

    .hidden {
      display: none !important;
    }

    @media (max-width: 768px) {
      .welcome-text {
        font-size: 42px;
      }

      .play-button {
        font-size: 24px;
        padding: 15px 40px;
      }

      .menu-title {
        font-size: 28px;
      }

      .game-grid {
        grid-template-columns: 1fr;
      }

      .puzzle-container {
        padding: 10px;
      }

      .word-grid {
        grid-template-columns: repeat(4, 1fr);
      }
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
 </head>
 <body>
  <div class="container"><!-- Welcome Screen -->
   <div id="welcomeScreen" class="welcome-screen move-up"><!-- Floating Emoji Decorations -->
    <div class="emoji-float emoji-1">
     üéâ
    </div>
    <div class="emoji-float emoji-2">
     üé®
    </div>
    <div class="emoji-float emoji-3">
     üåü
    </div>
    <div class="emoji-float emoji-4">
     üéØ
    </div>
    <div class="emoji-float emoji-5">
     üé™
    </div>
    <div class="emoji-float emoji-6">
     üé≠
    </div>
    <div class="emoji-float emoji-7">
       
    </div>
    <div class="emoji-float emoji-8">
     ‚≠ê
    </div>
    <div class="particles" id="particles"></div>
    <div class="logo-animation">
     <div class="puzzle-piece-anim">
      <div class="piece"></div>
      <div class="piece"></div>
      <div class="piece"></div>
      <div class="piece"></div>
     </div>
    </div>
    <div class="welcome-text" id="welcomeText">
     Welcome to PuzzleStudy's
    </div><button class="play-button" id="playButton">üéÆ Play üöÄ</button>
   </div><!-- Main Menu -->
   <div id="mainMenu" class="main-menu hidden">
    <div class="menu-header">
     <div class="menu-title">
      PuzzleStudy's
     </div>
     <div class="stats-bar">
      <div class="stat-item">
       <div class="stat-label">
        Score
       </div>
       <div class="stat-value" id="totalScore">
        0
       </div>
      </div>
      <div class="stat-item">
       <div class="stat-label">
        üí∞ Coins
       </div>
       <div class="stat-value" id="totalCoins">
        100
       </div>
      </div>
      <div class="stat-item">
       <div class="stat-label">
        üíé Diamonds
       </div>
       <div class="stat-value" id="totalDiamonds">
        5
       </div>
      </div>
     </div>
    </div>
    <div class="game-grid">
     <div class="game-card" onclick="startGame('dragdrop')">
      <div class="game-icon">
       üß©
      </div>
      <div class="game-title" id="dragDropTitle">
       Drag &amp; Drop Puzzle
      </div>
      <div class="game-level">
       Level <span id="dragDropLevel">1</span>
      </div>
     </div>
     <div class="game-card" onclick="startGame('scramble')">
      <div class="game-icon">
       üî¢
      </div>
      <div class="game-title" id="scrambleTitle">
       Scramble Puzzle
      </div>
      <div class="game-level">
       Level <span id="scrambleLevel">1</span>
      </div>
     </div>
     <div class="game-card" onclick="startGame('wordwonder')">
      <div class="game-icon">
       üìñ
      </div>
      <div class="game-title" id="wordWonderTitle">
       Word of Wonders
      </div>
      <div class="game-level">
       Level <span id="wordWonderLevel">1</span>
      </div>
     </div>
    </div>
   </div><!-- Drag and Drop Game -->
   <div id="dragDropGame" class="game-screen hidden">
    <div class="game-header"><button class="back-button" onclick="backToMenu()">‚Üê Back</button>
     <div class="game-info">
      <div class="level-display">
       Level <span id="ddCurrentLevel">1</span>
      </div>
      <div class="points-display">
       Points: <span id="ddPoints">0</span>/10
      </div>
     </div>
    </div>
    <div id="puzzleContainer" class="puzzle-container"></div>
    <div class="action-buttons"><button class="skip-button" onclick="skipLevel('dragdrop')">Skip (10 Coins)</button>
    </div>
   </div><!-- Scramble Game -->
   <div id="scrambleGame" class="game-screen hidden">
    <div class="game-header"><button class="back-button" onclick="backToMenu()">‚Üê Back</button>
     <div class="game-info">
      <div class="level-display">
       Level <span id="scCurrentLevel">1</span>
      </div>
      <div class="points-display">
       Points: <span id="scPoints">0</span>/10
      </div>
     </div>
    </div>
    <div class="scramble-content">
     <div class="subject-badge" id="subjectBadge">
      Matematika Wajib
     </div>
     <div class="question-box" id="questionBox">
      Loading...
     </div><input type="text" class="answer-input" id="answerInput" placeholder="Ketik jawaban Anda..."> <button class="submit-button" onclick="checkScrambleAnswer()">Submit Jawaban</button>
    </div>
    <div class="action-buttons"><button class="skip-button" onclick="skipLevel('scramble')">Skip (10 Coins)</button>
    </div>
   </div><!-- Word of Wonders Game -->
   <div id="wordWonderGame" class="game-screen hidden">
    <div class="game-header"><button class="back-button" onclick="backToMenu()">‚Üê Back</button>
     <div class="game-info">
      <div class="level-display">
       Level <span id="wwCurrentLevel">1</span>
      </div>
      <div class="points-display">
       Points: <span id="wwPoints">0</span>/10
      </div>
     </div>
    </div>
    <div class="scramble-content">
     <div class="subject-badge" id="wwSubjectBadge">
      Bahasa Indonesia
     </div>
     <div class="hint-section"><button class="hint-button" onclick="showHint()">üí° Hint (5 Coins)</button>
      <div class="hint-text" id="hintText"></div>
     </div>
     <div class="word-display">
      <div class="current-word" id="currentWord">
       _____
      </div>
     </div>
     <div class="word-grid" id="wordGrid"></div>
     <div class="found-words">
      <div class="found-words-title">
       Kata Ditemukan: <span id="foundCount">0</span>/<span id="totalWords">5</span>
      </div>
      <div class="found-word-list" id="foundWordList"></div>
     </div>
     <div class="action-buttons"><button class="submit-button" onclick="submitWord()">Submit Kata</button> <button class="skip-button" onclick="skipLevel('wordwonder')">Skip (10 Coins)</button>
     </div>
    </div>
   </div>
  </div>
  <script>
    const defaultConfig = {
      welcome_text: "Welcome to PuzzleStudy's",
      play_button_text: "Play",
      drag_drop_title: "Drag & Drop Puzzle",
      scramble_title: "Scramble Puzzle",
      word_wonder_title: "Word of Wonders"
    };

    let gameState = {
      totalScore: 0,
      totalCoins: 100,
      totalDiamonds: 5,
      dragDropLevel: 1,
      scrambleLevel: 1,
      wordWonderLevel: 1,
      currentGame: null,
      currentPoints: 0
    };

    // Drag and Drop Game Data
    let dragDropState = {
      pieces: [],
      correctOrder: [],
      currentPieces: 6
    };

    // Scramble Game Data
    const scrambleQuestions = {
      'Matematika Wajib': [
        { question: 'Hasil dari 15 + 27 = ?', answer: '42' },
        { question: 'Berapakah akar dari 144?', answer: '12' },
        { question: '8 √ó 7 = ?', answer: '56' }
      ],
      'Matematika Tingkat Lanjut': [
        { question: 'Turunan dari x¬≤ adalah?', answer: '2x' },
        { question: 'Integral dari 2x adalah?', answer: 'x¬≤' },
        { question: 'Sin 90¬∞ = ?', answer: '1' }
      ],
      'Kimia': [
        { question: 'Simbol kimia untuk air?', answer: 'H2O' },
        { question: 'Unsur dengan nomor atom 6?', answer: 'Karbon' },
        { question: 'Rumus asam sulfat?', answer: 'H2SO4' }
      ],
      'Fisika': [
        { question: 'Satuan gaya dalam SI?', answer: 'Newton' },
        { question: 'Kecepatan cahaya (dalam km/s)?', answer: '300000' },
        { question: 'Rumus energi kinetik?', answer: '¬Ωmv¬≤' }
      ]
    };

    let currentScrambleQuestion = null;

    // Word of Wonders Data
    const wordWonderLevels = {
      'Bahasa Indonesia': [
        { letters: ['B', 'U', 'K', 'U', 'A', 'S', 'I', 'P', 'T'], words: ['BUKU', 'ASIK', 'SAPI', 'KUIS', 'ITAS'], hint: 'Benda untuk membaca' },
        { letters: ['S', 'E', 'K', 'O', 'L', 'A', 'H', 'B', 'I'], words: ['SEKOLAH', 'BOLA', 'KALI', 'OBAT', 'BASI'], hint: 'Tempat belajar' }
      ],
      'Bahasa Inggris': [
        { letters: ['B', 'O', 'O', 'K', 'S', 'T', 'U', 'D', 'Y'], words: ['BOOK', 'STUDY', 'DUST', 'BODY', 'BUSY'], hint: 'Reading material' },
        { letters: ['S', 'C', 'H', 'O', 'O', 'L', 'T', 'E', 'A'], words: ['SCHOOL', 'TEACH', 'COAL', 'CLOSE', 'EACH'], hint: 'Place of learning' }
      ],
      'Sejarah': [
        { letters: ['P', 'A', 'H', 'L', 'A', 'W', 'N', 'I', 'R'], words: ['PAHLAWAN', 'WALI', 'HANA', 'LAWAN', 'HARI'], hint: 'Pejuang kemerdekaan' },
        { letters: ['M', 'E', 'R', 'D', 'E', 'K', 'A', 'I', 'N'], words: ['MERDEKA', 'KAMI', 'ADER', 'KADER', 'KAIN'], hint: 'Bebas dari penjajahan' }
      ],
      'Bahasa Jerman': [
        { letters: ['B', 'U', 'C', 'H', 'S', 'I', 'E', 'T', 'N'], words: ['BUCH', 'NICHT', 'SICH', 'BIST', 'SEIT'], hint: 'German for book' },
        { letters: ['S', 'C', 'H', 'U', 'L', 'E', 'A', 'B', 'T'], words: ['SCHULE', 'HAUS', 'BLAU', 'ACHT', 'BUCH'], hint: 'German for school' }
      ]
    };

    let currentWordWonder = null;
    let selectedLetters = [];
    let foundWords = [];

    // Data SDK Handler
    const dataHandler = {
      onDataChanged(data) {
        if (data.length > 0) {
          const latestData = data.reduce((latest, current) => {
            return new Date(current.timestamp) > new Date(latest.timestamp) ? current : latest;
          });
          
          gameState.totalScore = latestData.score || 0;
          gameState.totalCoins = latestData.coins || 100;
          gameState.totalDiamonds = latestData.diamonds || 5;
          
          updateStatsDisplay();
        }
      }
    };

    // Element SDK Implementation
    async function onConfigChange(config) {
      const welcomeTextEl = document.getElementById('welcomeText');
      const playButtonEl = document.getElementById('playButton');
      const dragDropTitleEl = document.getElementById('dragDropTitle');
      const scrambleTitleEl = document.getElementById('scrambleTitle');
      const wordWonderTitleEl = document.getElementById('wordWonderTitle');

      if (welcomeTextEl) welcomeTextEl.textContent = config.welcome_text || defaultConfig.welcome_text;
      if (playButtonEl) playButtonEl.textContent = config.play_button_text || defaultConfig.play_button_text;
      if (dragDropTitleEl) dragDropTitleEl.textContent = config.drag_drop_title || defaultConfig.drag_drop_title;
      if (scrambleTitleEl) scrambleTitleEl.textContent = config.scramble_title || defaultConfig.scramble_title;
      if (wordWonderTitleEl) wordWonderTitleEl.textContent = config.word_wonder_title || defaultConfig.word_wonder_title;
    }

    // Initialize SDKs
    async function initializeApp() {
      if (window.dataSdk) {
        const initResult = await window.dataSdk.init(dataHandler);
        if (!initResult.isOk) {
          console.error("Failed to initialize data SDK");
        }
      }

      if (window.elementSdk) {
        window.elementSdk.init({
          defaultConfig,
          onConfigChange,
          mapToCapabilities: () => ({
            recolorables: [],
            borderables: [],
            fontEditable: undefined,
            fontSizeable: undefined
          }),
          mapToEditPanelValues: (config) => new Map([
            ["welcome_text", config.welcome_text || defaultConfig.welcome_text],
            ["play_button_text", config.play_button_text || defaultConfig.play_button_text],
            ["drag_drop_title", config.drag_drop_title || defaultConfig.drag_drop_title],
            ["scramble_title", config.scramble_title || defaultConfig.scramble_title],
            ["word_wonder_title", config.word_wonder_title || defaultConfig.word_wonder_title]
          ])
        });
      }

      setupEventListeners();
    }

    function setupEventListeners() {
      const playButton = document.getElementById('playButton');
      if (playButton) {
        playButton.addEventListener('click', showMainMenu);
      }

      const answerInput = document.getElementById('answerInput');
      if (answerInput) {
        answerInput.addEventListener('keypress', (e) => {
          if (e.key === 'Enter') {
            checkScrambleAnswer();
          }
        });
      }
    }

    function showMainMenu() {
      document.getElementById('welcomeScreen').classList.add('hidden');
      document.getElementById('mainMenu').classList.remove('hidden');
      updateStatsDisplay();
    }

    function updateStatsDisplay() {
      document.getElementById('totalScore').textContent = gameState.totalScore;
      document.getElementById('totalCoins').textContent = gameState.totalCoins;
      document.getElementById('totalDiamonds').textContent = gameState.totalDiamonds;
      document.getElementById('dragDropLevel').textContent = gameState.dragDropLevel;
      document.getElementById('scrambleLevel').textContent = gameState.scrambleLevel;
      document.getElementById('wordWonderLevel').textContent = gameState.wordWonderLevel;
    }

    function startGame(gameType) {
      gameState.currentGame = gameType;
      gameState.currentPoints = 0;
      
      document.getElementById('mainMenu').classList.add('hidden');
      
      if (gameType === 'dragdrop') {
        document.getElementById('dragDropGame').classList.remove('hidden');
        initDragDropLevel();
      } else if (gameType === 'scramble') {
        document.getElementById('scrambleGame').classList.remove('hidden');
        initScrambleLevel();
      } else if (gameType === 'wordwonder') {
        document.getElementById('wordWonderGame').classList.remove('hidden');
        initWordWonderLevel();
      }
    }

    function backToMenu() {
      document.getElementById('dragDropGame').classList.add('hidden');
      document.getElementById('scrambleGame').classList.add('hidden');
      document.getElementById('wordWonderGame').classList.add('hidden');
      document.getElementById('mainMenu').classList.remove('hidden');
      gameState.currentGame = null;
    }

    // Drag and Drop Functions
    function initDragDropLevel() {
      const level = gameState.dragDropLevel;
      const piecesCount = Math.min(6 + Math.floor((level - 1) / 10) * 6, 300);
      dragDropState.currentPieces = piecesCount;
      
      document.getElementById('ddCurrentLevel').textContent = level;
      document.getElementById('ddPoints').textContent = gameState.currentPoints;
      
      const container = document.getElementById('puzzleContainer');
      const cols = Math.ceil(Math.sqrt(piecesCount));
      container.style.gridTemplateColumns = `repeat(${cols}, 1fr)`;
      
      dragDropState.correctOrder = Array.from({length: piecesCount}, (_, i) => i + 1);
      dragDropState.pieces = [...dragDropState.correctOrder].sort(() => Math.random() - 0.5);
      
      renderPuzzlePieces();
    }

    function renderPuzzlePieces() {
      const container = document.getElementById('puzzleContainer');
      container.innerHTML = '';
      
      dragDropState.pieces.forEach((pieceNum, index) => {
        const piece = document.createElement('div');
        piece.className = 'puzzle-piece';
        piece.textContent = pieceNum;
        piece.draggable = true;
        piece.dataset.index = index;
        
        piece.addEventListener('dragstart', handleDragStart);
        piece.addEventListener('dragover', handleDragOver);
        piece.addEventListener('drop', handleDrop);
        piece.addEventListener('dragend', handleDragEnd);
        
        container.appendChild(piece);
      });
    }

    let draggedIndex = null;

    function handleDragStart(e) {
      draggedIndex = parseInt(e.target.dataset.index);
      e.target.classList.add('dragging');
    }

    function handleDragOver(e) {
      e.preventDefault();
    }

    function handleDrop(e) {
      e.preventDefault();
      const dropIndex = parseInt(e.target.dataset.index);
      
      if (draggedIndex !== null && draggedIndex !== dropIndex) {
        [dragDropState.pieces[draggedIndex], dragDropState.pieces[dropIndex]] = 
        [dragDropState.pieces[dropIndex], dragDropState.pieces[draggedIndex]];
        
        renderPuzzlePieces();
        checkDragDropCompletion();
      }
    }

    function handleDragEnd(e) {
      e.target.classList.remove('dragging');
      draggedIndex = null;
    }

    function checkDragDropCompletion() {
      const isCorrect = dragDropState.pieces.every((num, idx) => num === dragDropState.correctOrder[idx]);
      
      if (isCorrect) {
        gameState.currentPoints = 10;
        gameState.totalScore += 10;
        gameState.totalCoins += 10;
        
        const pieces = document.querySelectorAll('.puzzle-piece');
        pieces.forEach(piece => piece.classList.add('correct'));
        
        setTimeout(() => {
          gameState.dragDropLevel++;
          saveGameProgress();
          initDragDropLevel();
        }, 1500);
      }
    }

    // Scramble Functions
    function initScrambleLevel() {
      const subjects = Object.keys(scrambleQuestions);
      const randomSubject = subjects[Math.floor(Math.random() * subjects.length)];
      const questions = scrambleQuestions[randomSubject];
      currentScrambleQuestion = questions[Math.floor(Math.random() * questions.length)];
      currentScrambleQuestion.subject = randomSubject;
      
      document.getElementById('scCurrentLevel').textContent = gameState.scrambleLevel;
      document.getElementById('scPoints').textContent = gameState.currentPoints;
      document.getElementById('subjectBadge').textContent = randomSubject;
      document.getElementById('questionBox').textContent = currentScrambleQuestion.question;
      document.getElementById('answerInput').value = '';
    }

    function checkScrambleAnswer() {
      const userAnswer = document.getElementById('answerInput').value.trim();
      
      if (!userAnswer) return;
      
      const isCorrect = userAnswer.toLowerCase() === currentScrambleQuestion.answer.toLowerCase();
      
      if (isCorrect) {
        gameState.currentPoints = 10;
        gameState.totalScore += 10;
        gameState.totalCoins += 10;
        gameState.scrambleLevel++;
        
        document.getElementById('questionBox').textContent = '‚úÖ Jawaban Benar!';
        document.getElementById('questionBox').style.background = '#51cf66';
        document.getElementById('questionBox').style.color = 'white';
        
        setTimeout(() => {
          document.getElementById('questionBox').style.background = '#f8f9fa';
          document.getElementById('questionBox').style.color = '#333';
          saveGameProgress();
          initScrambleLevel();
        }, 1500);
      } else {
        document.getElementById('questionBox').textContent = '‚ùå Jawaban Salah! Coba lagi.';
        document.getElementById('questionBox').style.background = '#ff6b6b';
        document.getElementById('questionBox').style.color = 'white';
        
        setTimeout(() => {
          document.getElementById('questionBox').style.background = '#f8f9fa';
          document.getElementById('questionBox').style.color = '#333';
          document.getElementById('questionBox').textContent = currentScrambleQuestion.question;
        }, 1500);
      }
    }

    // Word of Wonders Functions
    function initWordWonderLevel() {
      const subjects = Object.keys(wordWonderLevels);
      const randomSubject = subjects[Math.floor(Math.random() * subjects.length)];
      const levels = wordWonderLevels[randomSubject];
      currentWordWonder = levels[Math.floor(Math.random() * levels.length)];
      currentWordWonder.subject = randomSubject;
      
      selectedLetters = [];
      foundWords = [];
      
      document.getElementById('wwCurrentLevel').textContent = gameState.wordWonderLevel;
      document.getElementById('wwPoints').textContent = gameState.currentPoints;
      document.getElementById('wwSubjectBadge').textContent = randomSubject;
      document.getElementById('currentWord').textContent = '_____';
      document.getElementById('hintText').textContent = '';
      document.getElementById('foundCount').textContent = '0';
      document.getElementById('totalWords').textContent = currentWordWonder.words.length;
      document.getElementById('foundWordList').innerHTML = '';
      
      renderWordGrid();
    }

    function renderWordGrid() {
      const grid = document.getElementById('wordGrid');
      grid.innerHTML = '';
      
      currentWordWonder.letters.forEach((letter, index) => {
        const cell = document.createElement('div');
        cell.className = 'letter-cell';
        cell.textContent = letter;
        cell.dataset.index = index;
        cell.addEventListener('click', () => selectLetter(index, letter));
        grid.appendChild(cell);
      });
    }

    function selectLetter(index, letter) {
      const cells = document.querySelectorAll('.letter-cell');
      
      if (selectedLetters.some(s => s.index === index)) {
        selectedLetters = selectedLetters.filter(s => s.index !== index);
        cells[index].classList.remove('selected');
      } else {
        selectedLetters.push({ index, letter });
        cells[index].classList.add('selected');
      }
      
      const word = selectedLetters.map(s => s.letter).join('');
      document.getElementById('currentWord').textContent = word || '_____';
    }

    function submitWord() {
      const word = selectedLetters.map(s => s.letter).join('');
      
      if (!word) return;
      
      if (currentWordWonder.words.includes(word) && !foundWords.includes(word)) {
        foundWords.push(word);
        
        const wordEl = document.createElement('div');
        wordEl.className = 'found-word';
        wordEl.textContent = word;
        document.getElementById('foundWordList').appendChild(wordEl);
        
        document.getElementById('foundCount').textContent = foundWords.length;
        
        selectedLetters = [];
        document.querySelectorAll('.letter-cell').forEach(cell => cell.classList.remove('selected'));
        document.getElementById('currentWord').textContent = '_____';
        
        if (foundWords.length === currentWordWonder.words.length) {
          gameState.currentPoints = 10;
          gameState.totalScore += 10;
          gameState.totalCoins += 15;
          gameState.wordWonderLevel++;
          
          setTimeout(() => {
            saveGameProgress();
            initWordWonderLevel();
          }, 1500);
        }
      } else {
        selectedLetters = [];
        document.querySelectorAll('.letter-cell').forEach(cell => cell.classList.remove('selected'));
        document.getElementById('currentWord').textContent = '‚ùå Kata tidak valid!';
        setTimeout(() => {
          document.getElementById('currentWord').textContent = '_____';
        }, 1000);
      }
    }

    function showHint() {
      if (gameState.totalCoins >= 5) {
        gameState.totalCoins -= 5;
        updateStatsDisplay();
        document.getElementById('hintText').textContent = `Hint: ${currentWordWonder.hint}`;
        saveGameProgress();
      } else {
        document.getElementById('hintText').textContent = 'Koin tidak cukup!';
        setTimeout(() => {
          document.getElementById('hintText').textContent = '';
        }, 2000);
      }
    }

    async function skipLevel(gameType) {
      if (gameState.totalCoins >= 10) {
        gameState.totalCoins -= 10;
        
        if (gameType === 'dragdrop') {
          gameState.dragDropLevel++;
          updateStatsDisplay();
          await saveGameProgress();
          initDragDropLevel();
        } else if (gameType === 'scramble') {
          gameState.scrambleLevel++;
          updateStatsDisplay();
          await saveGameProgress();
          initScrambleLevel();
        } else if (gameType === 'wordwonder') {
          gameState.wordWonderLevel++;
          updateStatsDisplay();
          await saveGameProgress();
          initWordWonderLevel();
        }
      } else {
        const questionBox = document.getElementById('questionBox');
        if (questionBox) {
          const originalText = questionBox.textContent;
          questionBox.textContent = 'Koin tidak cukup untuk skip!';
          setTimeout(() => {
            questionBox.textContent = originalText;
          }, 2000);
        }
      }
    }

    async function saveGameProgress() {
      if (!window.dataSdk) return;

      const result = await window.dataSdk.create({
        game_type: gameState.currentGame || 'menu',
        level: gameState.dragDropLevel,
        score: gameState.totalScore,
        coins: gameState.totalCoins,
        diamonds: gameState.totalDiamonds,
        completed_levels: `DD:${gameState.dragDropLevel},SC:${gameState.scrambleLevel},WW:${gameState.wordWonderLevel}`,
        timestamp: new Date().toISOString()
      });

      if (!result.isOk) {
        console.error("Failed to save progress");
      }
    }

    // Create animated particles
    function createParticles() {
      const particlesContainer = document.getElementById('particles');
      if (!particlesContainer) return;

      const colors = ['red', 'orange', 'yellow', 'green', 'blue', 'purple'];

      // Create colorful confetti particles
      for (let i = 0; i < 50; i++) {
        const confetti = document.createElement('div');
        const randomColor = colors[Math.floor(Math.random() * colors.length)];
        confetti.className = `confetti confetti-${randomColor}`;
        confetti.style.left = Math.random() * 100 + '%';
        confetti.style.width = (Math.random() * 8 + 6) + 'px';
        confetti.style.height = (Math.random() * 15 + 10) + 'px';
        confetti.style.animationDelay = Math.random() * 3 + 's';
        confetti.style.animationDuration = (Math.random() * 3 + 3) + 's';
        confetti.style.borderRadius = Math.random() > 0.5 ? '50%' : '3px';
        particlesContainer.appendChild(confetti);
      }
    }

    // Initialize app when DOM is ready
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', () => {
        initializeApp();
        createParticles();
      });
    } else {
      initializeApp();
      createParticles();
    }
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9a1c9e4e010e4dae',t:'MTc2MzY5MDY4OC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>